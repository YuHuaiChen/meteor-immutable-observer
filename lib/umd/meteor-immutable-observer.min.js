!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("immutable")):"function"==typeof define&&define.amd?define(["immutable"],t):"object"==typeof exports?exports["meteor-immutable-observer"]=t(require("immutable")):e["meteor-immutable-observer"]=t(e.Immutable)}(this,function(e){return function(e){function t(o){if(n[o])return n[o].exports;var u=n[o]={exports:{},id:o,loaded:!1};return e[o].call(u.exports,u,u.exports,t),u.loaded=!0,u.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var u=n(4),r=o(u),f=n(3),d=o(f);t["default"]={Map:r["default"],List:d["default"]},e.exports=t["default"]},function(t,n){t.exports=e},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function u(e,t){return e instanceof f["default"].Collection&&t instanceof f["default"].Collection&&Object.getPrototypeOf(e)===Object.getPrototypeOf(t)?e.withMutations(function(n){e.forEach(function(e,o){t.has(o)||n["delete"](o)}),t.forEach(function(t,o){e.has(o)?n.set(o,u(e.get(o),t)):n.set(o,t)})}):e===t?e:t}t.__esModule=!0,t["default"]=u;var r=n(1),f=o(r);e.exports=t["default"]},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function u(e){function t(e){n=e,o.changed()}var n=void 0,o=new Tracker.Dependency,u=[],r=e.observe({addedAt:function(e,o,r){u?u.splice(o,0,f["default"].fromJS(e)):t(n.splice(o,0,f["default"].fromJS(e)))},changedAt:function(e,o,u){t(n.update(id,function(t){return i["default"](t,f["default"].fromJS(e))}))},removedAt:function(e,o){t(n.splice(o,1))},movedTo:function(e,o,u,r){var f=n.get(o);t(n.splice(o,1).splice(u,0,f))}});return n=f["default"].List(u),u=void 0,Tracker.active&&Tracker.onInvalidate(function(){r.stop()}),{documents:function(){return o.depend(),n},stop:function(){r.stop()}}}t.__esModule=!0,t["default"]=u;var r=n(1),f=o(r),d=n(2),i=o(d);e.exports=t["default"]},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function u(e,t){return e.withMutations(function(e){for(var n in t)if(t.hasOwnProperty(n)){var o=t[n];void 0===o?e["delete"](n):e.update(n,function(e){return a["default"](e,d["default"].fromJS(o))})}})}function r(e,t){function n(e){o=e,r.changed()}var o=void 0,r=new Tracker.Dependency,f={},i=e.observeChanges({added:function(e,u){u._id=e._str||e,f?f[u._id]=d["default"].fromJS(u):n(o.set(u._id,d["default"].fromJS(u))),t&&("object"==typeof t?t.added():t())},changed:function(e,r){var f=e._str||e;n(o.update(f,function(e){return u(e,r)})),t&&("object"==typeof t?t.changed():t())},removed:function(e){var u=e._str||e;n(o["delete"](u)),t&&("object"==typeof t?t.removed():t())}});return o=d["default"].Map(f),f=void 0,Tracker.active&&Tracker.onInvalidate(function(){i.stop()}),{documents:function(){return r.depend(),o},stop:function(){i.stop()}}}t.__esModule=!0,t["default"]=r;var f=n(1),d=o(f),i=n(2),a=o(i);e.exports=t["default"]}])});