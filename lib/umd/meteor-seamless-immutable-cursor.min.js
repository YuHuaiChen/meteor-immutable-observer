!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("seamless-immutable")):"function"==typeof define&&define.amd?define(["seamless-immutable"],t):"object"==typeof exports?exports["meteor-seamless-immutable-cursor"]=t(require("seamless-immutable")):e["meteor-seamless-immutable-cursor"]=t(e.Immutable)}(this,function(e){return function(e){function t(u){if(n[u])return n[u].exports;var r=n[u]={exports:{},id:u,loaded:!1};return e[u].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var r=n(1),o=u(r);t["default"]=o["default"],e.exports=t["default"]},function(e,t,n){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}function r(e){function t(e){var t=r;r=e,o.changed(),s.forEach(function(n){return n(e,t)}),n()}function n(){!f||o.hasDependents()||s.length||(f.stop(),f=void 0)}function u(){f=e.observe({addedAt:function(e,n,u){if(n===r.length)t(r.concat(a["default"](e)));else{var o=r.asMutable();o.splice(n,0,a["default"](e)),t(a["default"](o))}},changedAt:function(e,n,u){var o=r.asMutable();o[u]=a["default"](e),t(a["default"](o))},removedAt:function(e,n){var u=r.asMutable();u.splice(n,1),t(a["default"](u))},movedTo:function(e,n,u,o){var s=r.asMutable(),f=s[n];s.splice(n,1),s.splice(u,0,f),t(a["default"](s))}})}var r=a["default"]([]),o=new Tracker.Dependency,s=[],f=void 0;return{forEach:function(){var e;return f||u(),o.depend(),(e=r).forEach.apply(e,arguments)},map:function(){var e;return f||u(),o.depend(),(e=r).map.apply(e,arguments)},count:function(){return e.count()},fetch:function(){return f||u(),o.depend(),r},observe:function(e){return f||u(),s.push(e),{stop:function(){var t=s.indexOf(e);t>=0&&(s.splice(t,1),n())}}}}}t.__esModule=!0,t["default"]=r;var o=n(2),a=u(o);e.exports=t["default"]},function(t,n){t.exports=e}])});