!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("seamless-immutable")):"function"==typeof define&&define.amd?define(["seamless-immutable"],t):"object"==typeof exports?exports["meteor-seamless-immutable-cursor"]=t(require("seamless-immutable")):e["meteor-seamless-immutable-cursor"]=t(e.Immutable)}(this,function(e){return function(e){function t(u){if(n[u])return n[u].exports;var r=n[u]={exports:{},id:u,loaded:!1};return e[u].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var r=n(1),o=u(r);t["default"]=o["default"],e.exports=t["default"]},function(e,t,n){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}function r(e){function t(e){var t=r;r=e,o.changed(),f.forEach(function(n){return n(e,t)}),n()}function n(){!s||o.hasDependents()||f.length||(s.stop(),s=void 0)}function u(){t(a["default"](e.fetch())),s=e.observe({addedAt:function(e,n,u){if(n===r.length)t(r.concat(a["default"](e)));else{var o=r.asMutable();o.splice(n,0,a["default"](e)),t(a["default"](o))}},changedAt:function(e,n,u){var o=r.asMutable();o[u]=a["default"](e),t(a["default"](o))},removedAt:function(e,n){var u=r.asMutable();u.splice(n,1),t(a["default"](u))},movedTo:function(e,n,u,o){var f=r.asMutable(),s=f[n];f.splice(n,1),f.splice(u,0,s),t(a["default"](f))}})}var r=a["default"](e.fetch()),o=new Tracker.Dependency,f=[],s=void 0;return{forEach:function(){var e;return o.depend()&&!s&&u(),(e=r).forEach.apply(e,arguments)},map:function(){var e;return o.depend()&&!s&&u(),(e=r).map.apply(e,arguments)},count:function(){return e.count()},fetch:function(){return o.depend()&&!s&&u(),r},observe:function(e){return s||u(),f.push(e),{stop:function(){var t=f.indexOf(e);t>=0&&(f.splice(t,1),n())}}}}}t.__esModule=!0,t["default"]=r;var o=n(2),a=u(o);e.exports=t["default"]},function(t,n){t.exports=e}])});